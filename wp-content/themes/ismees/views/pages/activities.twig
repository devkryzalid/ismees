{% extends 'base.twig' %}
{% block content %}
    <main class="page-activities">
        <div class="activities-banner">
            <div class="container-lg">
                <div class="banner-content-ctn">
                    {% include "partials/breadscrum.twig" with {
                        'reverseBreadscrum': true
                    } %}
                    <h1 class="page-title" data-aos="fade-up" data-aos-delay="300"><span class="bottom-decoration -red">{{__('Activités', 'ismees')}} </span> {{__('à venir', 'ismees')}}</h1>
                    <div class="gutenberg" data-aos="fade-up" data-aos-delay="300">{{ post.content }}</div>
                </div>
            </div>
        </div>
        <div class="page-content">
            {% include "partials/ajax/activities-filters.twig" %}
            {% include "partials/ajax/ajax-list.twig" with {
                'activities': true,
                'items': activities
            } %}
        </div>
    </main>
{% endblock %}
{% block specific_script %}
	<script src="{{ theme.link }}/dist/scripts/pages/activities.js"></script>
{% endblock %}

{# META FOR ADDSEARCH CUSTOM FIELDS #}
{% block addsearch_meta %}
    {% set meta_tags = {
        'page': 'research',
        'title': post.title,
        'image': post.thumbnail,
        'resource': 'member',
    } %}

    {% for tag, value in meta_tags %}
        {% if value %}
            {% if value is iterable %}
                {% set meta_content = [] %}
                {% for item in value %}
                    {% set meta_content = meta_content|merge([tag ~ "=" ~ item]) %}
                {% endfor %}
                <meta name="addsearch-custom-field" data-type="text" content="{{ meta_content|join(';') }}">
            {% else %}
                <meta name="addsearch-custom-field" data-type="text" content="{{ tag }}={{ value }}">
            {% endif %}
        {% endif %}
    {% endfor %}
{% endblock %}